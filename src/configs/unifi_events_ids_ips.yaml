source: unifi
entity: ids_ips_event
schema_version: 1

collect:
  mode: single
  # The specific endpoint for Threat Management (IPS/IDS) logs
  endpoint: "/proxy/network/api/s/default/stat/ips/event"

http:
  base_url: "https://dmp.d.mckaylab.me"
  verify_tls: false
  timeout_seconds: 30

auth:
  mode: unifi_api_key
  api_key_env: "DMP_API_KEY"

storage:
  container_env: "AZURE_BLOB_CONTAINER"
  container_default: "homelab-telemetry"
  bronze_prefix: "bronze"
  system: "unifi"
  dataset: "ids_ips_event"

schedule:
  # Check every 5 minutes. 
  # Since this is a list, we'll ingest overlapping data, 
  # but our Silver layer (Databricks) can dedup by '_id'.
  interval_seconds: 300